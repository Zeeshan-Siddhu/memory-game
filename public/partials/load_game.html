<div ng-init="initializeGame()" >
  <controls></controls>
  <div style="width: 720px; max-width: 720px; background-color: grey; padding: 70px 50px; margin: auto;">
    <div style="width: 260px; display: inline-block; float: right;">
      <div class="logo"></div>
      <div class='game-info' style="background-color: white;">
        <strong>Score</strong>
        <p>{{score}}</p>
        <p>Only keys are supported</p>
      </div>
      <div>
        <button class="btn btn-warning btn-sm btn-block" ng-click="initializeGame()">Reset</button>
      </div>
    </div>
    <div class='board' style="width: 360px; display: inline-block;"></div>
  </div>
</div>
<script type="text/ng-template" id="get-info.html">
  <div class="heading">Enter your information to view high scores and your ranking</div>
  <form name="myForm" ng-submit="myForm.$valid && sendScoreToServer(userName, userEmail)" novalidate>
    <div class="body">
      <div class="form-group">
        <label for="exampleInputEmail1">Email address</label>
        <input type="email" class="form-control" name="input" ng-model="userEmail"  id="exampleInputEmail1" placeholder="Email" required>
      </div>
      <div role="alert">
        <span class="error" ng-show="myForm.input.$error.required">
          Email Required!</span>
        <span class="error" ng-show="myForm.input.$error.email">
          Not valid email!</span>
      </div>

      <div class="form-group">
        <label for="exampleInputPassword1">Name</label>
        <input type="text" class="form-control" name="userName" ng-model="userName" id="exampleInputPassword1" placeholder="Name" required>
      </div>
      <div role="alert">
        <span class="error" ng-show="myForm.userName.$error.required">
          Name Required!</span>
      </div>
    </div>
    <div class="footer">
      <input type="submit" class="btn btn-primary" value="Submit" />
   </div>
   </form>
</script>

<script type="text/ng-template" id="show-high-scores.html">
  <div class="heading">High Scores</div>
    <div class="body">
      <p>My ranking: {{ranking}}</p>
      <p>My High Score: {{userMaxScore}}</p>
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>User Name</th>
            <th>Email</th>
            <th>Score</th>
          </tr>
        </thead>
        <tbody>
        <tr ng-repeat="obj in highScores">
          <td>{{obj.user.user_name}}</td>
          <td>{{obj.user.email}}</td>
          <td>{{obj.score}}</td>
        </tr>
        </tbody>
      </table>
    </div>
    <div class="footer">
      <input type="button" class="btn btn-sm dialog-close-btn" ng-click="closeThisDialog()" value="Cancel" />
      <button class="btn btn-primary" ng-click="initializeGame()">Play Again</button>
   </div>
</script>
